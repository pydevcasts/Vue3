# **๐ ุตูุญู 13 - ูุฏุฑุช ุฑูุฏุงุฏูุง ูุงููฺฏุงู (Async) ุฏุฑ Vue.js**  

ุฏุฑ ุงู ุตูุญูุ ุจู **ููุงูู ูุงููฺฏุงู (Asynchronous)** ุฏุฑ Vue.js ูโูพุฑุฏุงุฒู ู ุฑูุดโูุง ุจุฑุง **ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง HTTPุ ุชูุงุจุน async/await** ู ูุญููโ ููุงุด ุฏุงุฏูโูุง ูุงฺฉุดโุดุฏู ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ.  

โ **ูุจุงู ุจุฑูุงููโููุณ ูุงููฺฏุงู ุฏุฑ Vue.js**  
โ **ฺฉุงุฑ ุจุง ุชูุงุจุน `async` ู `await`**  
โ **ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง HTTP ุฏุฑ Vue.js**  
โ **ูุซุงู ุนูู: ูุงฺฉุด ุฏุงุฏูโูุง ุงุฒ API ู ููุงุด ุขู ุฏุฑ ฺฉุงููพูููุช**  

---

## **ฑ. ุจุฑูุงููโููุณ ูุงููฺฏุงู ฺุณุชุ**  

๐น ุฏุฑ **ุจุฑูุงููโููุณ ููฺฏุงู (Synchronous)** ุฏุณุชูุฑุงุช ุจู ุชุฑุชุจ ุงุฌุฑุง ูโุดููุฏ ู ูุฑ ุฎุท ุจุฑูุงูู ุจุงุฏ ูุจู ุงุฒ ุงุฌุฑุง ุฎุท ุจุนุฏ ฺฉุงูู ุดูุฏ.  
๐น ุฏุฑ **ุจุฑูุงููโููุณ ูุงููฺฏุงู (Asynchronous)**ุ ุฏุณุชูุฑุงุช ูโุชูุงููุฏ ุจุฏูู ูุชููู ฺฉุฑุฏู ุงุฌุฑุง ุณุงุฑ ุจุฎุดโูุง ุจุฑูุงูู ุงุฌุฑุง ุดููุฏ.  

โ Vue.js ุงุฒ **ุชูุงุจุน `async` ู `await`** ู ููฺูู ุงุฒ **Promiseโูุง** ุจุฑุง ูุฏุฑุช ุนููุงุช ูุงููฺฏุงู ุงุณุชูุงุฏู ูโฺฉูุฏ.  

---

## **ฒ. ุงุณุชูุงุฏู ุงุฒ `async` ู `await` ุฏุฑ Vue.js**  

ุชูุงุจุน **`async`** ุจู ูุง ุงูฺฉุงู ูโุฏููุฏ ฺฉู **ุฏุณุชูุฑุงุช ูุงููฺฏุงู** ุฑุง ุจู ุตูุฑุช **ุฎูุงูุง ู ุฎุท** ุจููุณู.  

๐ **ูููููโ ุณุงุฏูโ ุงุณุชูุงุฏู ุงุฒ `async` ู `await`**  
```javascript
async function fetchData() {
  try {
    const response = await fetch('https://jsonplaceholder.typicode.com/posts/1')
    const data = await response.json()
    console.log(data)
  } catch (error) {
    console.error('ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุฏุงุฏู:', error)
  }
}

fetchData()
```
๐น `fetchData` ฺฉ **ุชุงุจุน ูุงููฺฏุงู** ุงุณุช ฺฉู ุฏุงุฏูโูุง ุฑุง ุงุฒ ฺฉ API ุฏุฑุงูุช ูโฺฉูุฏ.  
๐น `await` ุฏุฑุฎูุงุณุช ุฑุง ูุชููู ูโฺฉูุฏ ุชุง ูพุงุณุฎ ุงุฒ ุณุฑูุฑ ุฏุฑุงูุช ุดูุฏ.  
๐น ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุงุ `try...catch` ุจุฑุง ูุฏุฑุช ุฎุทุง ุงุณุชูุงุฏู ูโุดูุฏ.  

---

## **ณ. ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง HTTP ุฏุฑ Vue.js**  

Vue.js ุจุฑุง ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง HTTP ุงุฒ ุงุจุฒุงุฑูุง ูุงููุฏ:  
โ **fetch API** (ุณุงุฏู ู ุจุฏูู ูุงุฒ ุจู ฺฉุชุงุจุฎุงูู ุงุถุงู)  
โ **Axios** (ฺฉ ฺฉุชุงุจุฎุงูู ูุญุจูุจ ุจุฑุง ุฏุฑุฎูุงุณุชโูุง HTTP)  

๐ **ููุงุณูโ Fetch API ู Axios**  

| ูฺฺฏ | Fetch API | Axios |
|---|---|---|
| ูพุดุชุจุงู ุงุฒ `async/await` | โ | โ |
| ูุงุฒ ุจู ุชุจุฏู ูพุงุณุฎ ุจู JSON | โ | โ (ุงุชููุงุชฺฉ) |
| ูพุดุชุจุงู ุงุฒ `timeout` | โ | โ |
| ูุฏุฑุช ุฎุทุง ูพุดุฑูุชู | โ | โ |

---

## **ด. ูุซุงู: ูุงฺฉุด ุฏุงุฏูโูุง ุงุฒ API ู ููุงุด ุขู ุฏุฑ ฺฉ ฺฉุงููพูููุช**  

ุฏุฑ ุงู ูุซุงูุ ฺฉ ฺฉุงููพูููุช ุงุฌุงุฏ ูโฺฉูู ฺฉู ูุณุช ุงุฒ ฺฉุงุฑุจุฑุงู ุฑุง ุงุฒ **API** ุฏุฑุงูุช ฺฉุฑุฏู ู ููุงุด ูโุฏูุฏ.  

๐ `UsersList.vue`  
```vue
<script setup>
import { ref, onMounted } from 'vue'

const users = ref([])
const loading = ref(true)
const error = ref(null)

const fetchUsers = async () => {
  try {
    const response = await fetch('https://jsonplaceholder.typicode.com/users')
    if (!response.ok) {
      throw new Error('ุฏุฑุงูุช ุฏุงุฏูโูุง ุจุง ูุดฺฉู ููุงุฌู ุดุฏ')
    }
    users.value = await response.json()
  } catch (err) {
    error.value = err.message
  } finally {
    loading.value = false
  }
}

onMounted(fetchUsers)
</script>

<template>
  <div>
    <h2>๐ฅ ูุณุช ฺฉุงุฑุจุฑุงู</h2>
    <p v-if="loading">โณ ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</p>
    <p v-if="error" class="error">โ {{ error }}</p>
    <ul v-if="users.length">
      <li v-for="user in users" :key="user.id">
        {{ user.name }} - {{ user.email }}
      </li>
    </ul>
  </div>
</template>

<style>
.error {
  color: red;
}
</style>
```

โ **ุชูุถุญ ฺฉุฏ:**  
๐น ุงุฒ **`ref`** ุจุฑุง ูุฏุฑุช ุฏุงุฏูโูุง ฺฉุงุฑุจุฑุงู ู ูุถุนุช ุจุงุฑฺฏุฑ ุงุณุชูุงุฏู ุดุฏู ุงุณุช.  
๐น **ุชุงุจุน `fetchUsers`** ุฏุงุฏูโูุง ุฑุง ุจู ุตูุฑุช ูุงููฺฏุงู ูุงฺฉุด ูโฺฉูุฏ.  
๐น ุฏุฑ ุตูุฑุช ุฎุทุงุ ูพุงู ุฎุทุง ุฏุฑ ูุชุบุฑ `error` ุฐุฎุฑู ูโุดูุฏ.  
๐น ุฏุฑ **`onMounted`** ุชุงุจุน `fetchUsers` ุงุฌุฑุง ูโุดูุฏ ุชุง ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ฺฉุงููพูููุชุ ุฏุงุฏูโูุง ุฑุง ุฏุฑุงูุช ฺฉูุฏ.  

---

## **๐ ุฌูุนโุจูุฏ ุงู ุตูุญู**  

โ **ุจุฑูุงููโููุณ ูุงููฺฏุงู** ุฏุฑ Vue.js ุจุง ุงุณุชูุงุฏู ุงุฒ **`async` ู `await`** ุงูุฌุงู ูโุดูุฏ.  
โ **ุฏุฑุฎูุงุณุชโูุง HTTP** ุฑุง ูโุชูุงู ุจุง **Fetch API** ุง **Axios** ูุฏุฑุช ฺฉุฑุฏ.  
โ ุฏุฑ **ูุซุงู ุนูู**ุ ุฏุงุฏูโูุง ฺฉุงุฑุจุฑุงู ุฑุง ุงุฒ API ูุงฺฉุด ู ุฏุฑ ฺฉุงููพูููุช ููุงุด ุฏุงุฏู.  

---
