### **📌 صفحه ۱۴ - `watch` و `watchEffect` در Vue.js**  

در این صفحه، به بررسی دو قابلیت مهم **`watch`** و **`watchEffect`** در Vue 3 می‌پردازیم. این دو قابلیت به ما امکان می‌دهند که **متغیرهای ری‌اکتیو را پایش کنیم** و در صورت تغییر، عملیات خاصی را اجرا کنیم.  

---

## **۱. `watch` در Vue.js - نظارت بر تغییر یک متغیر خاص**  

📌 **`watch` زمانی اجرا می‌شود که مقدار یک متغیر مشخص تغییر کند.** این قابلیت به ما اجازه می‌دهد **مقدار جدید و مقدار قبلی متغیر را دریافت کنیم.**  

✅ **مثال: نظارت بر مقدار یک متغیر و نمایش تغییرات در کنسول**  

📍 **فایل `App.vue`**  

```vue
<template>
  <div>
    <p>Counter: {{ count }}</p>
    <button @click="count++">Increase</button>
  </div>
</template>

<script>
import { ref, watch } from 'vue';

export default {
  setup() {
    const count = ref(0);

    watch(count, (newValue, oldValue) => {
      console.log(`Counter changed from ${oldValue} to ${newValue}`);
    });

    return { count };
  }
};
</script>
```

✅ **توضیح کد:**  
1️⃣ مقدار **`count`** یک مقدار ری‌اکتیو است که مقدار اولیه آن `0` است.  
2️⃣ هر بار که روی دکمه کلیک شود، مقدار **`count` افزایش می‌یابد.**  
3️⃣ **`watch` تغییر مقدار `count` را رصد کرده و مقدار قبلی و جدید را در کنسول نمایش می‌دهد.**  

---

## **۲. `watchEffect` در Vue.js - نظارت خودکار بر متغیرهای وابسته**  

📌 **`watchEffect` به‌صورت خودکار اجرا شده و همه متغیرهای وابسته داخل آن را پایش می‌کند.** این تابع در لحظه اجرا شده و هر تغییری در متغیرهای مورد استفاده را به‌طور خودکار رصد می‌کند.  

✅ **مثال: پایش خودکار مقدار یک متغیر و نمایش تغییرات در کنسول**  

📍 **فایل `App.vue`**  

```vue
<template>
  <div>
    <p>Counter: {{ count }}</p>
    <button @click="count++">Increase</button>
  </div>
</template>

<script>
import { ref, watchEffect } from 'vue';

export default {
  setup() {
    const count = ref(0);

    watchEffect(() => {
      console.log(`Counter is now: ${count.value}`);
    });

    return { count };
  }
};
</script>
```

✅ **توضیح کد:**  
1️⃣ متغیر **`count`** ری‌اکتیو است و مقدار اولیه آن `0` است.  
2️⃣ **`watchEffect` بلافاصله پس از اجرای کامپوننت اجرا شده و مقدار `count` را مانیتور می‌کند.**  
3️⃣ هر بار که مقدار `count` تغییر کند، مقدار جدید در کنسول نمایش داده می‌شود.  

---

## **۳. تفاوت‌های `watch` و `watchEffect`**  

✅ **`watch` فقط زمانی اجرا می‌شود که مقدار متغیر مشخص شده تغییر کند.**  
✅ **`watchEffect` بلافاصله اجرا شده و به‌طور خودکار تمام متغیرهای وابسته را پایش می‌کند.**  
✅ **`watch` مقدار قبلی و جدید متغیر را دریافت می‌کند، اما `watchEffect` این قابلیت را ندارد.**  
✅ **`watch` برای نظارت بر یک متغیر مشخص استفاده می‌شود، اما `watchEffect` برای سناریوهای کلی‌تر کاربرد دارد.**  

---

## **📌 جمع‌بندی این صفحه**  

✅ **`watch` زمانی استفاده می‌شود که بخواهیم مقدار یک متغیر مشخص را پایش کنیم و فقط هنگام تغییر آن، تابعی اجرا شود.**  
✅ **`watchEffect` بلافاصله اجرا شده و به‌طور خودکار متغیرهای مورد استفاده را رصد می‌کند.**  
✅ **`watch` مقدار قبلی و جدید را دریافت می‌کند، اما `watchEffect` این قابلیت را ندارد.**  
✅ **استفاده صحیح از این دو قابلیت به ما کمک می‌کند تا تغییرات را بهتر مدیریت کنیم.**  

